import{d as g,f,k as C,p as _,_ as V,r as d,o as y,c as b,j as l,w as n,b as k,v,s as u}from"./index.b9085ce3.js";import{M as h}from"./page-search.84edc69c.js";const N=g({components:{MyForm:h},props:{modalConfig:{type:Object,required:!0},pageName:{type:String,required:!0},defaultInfo:{type:Object,default:()=>({})}},setup(e){const o=f({}),s=f(!1),i=C();return _(()=>e.defaultInfo,r=>{for(const a of e.modalConfig.formItems)o.value[`${a.field}`]=r[`${a.field}`]}),{dialogVisible:s,formData:o,handleConfirmClick:()=>{s.value=!1,Object.keys(e.defaultInfo).length?(console.log("\u7F16\u8F91\u7528\u6237"),i.dispatch("system/editPageDataAction",{pageName:e.pageName,editData:{...o.value},id:e.defaultInfo.id})):i.dispatch("system/createPageDataAction",{pageName:e.pageName,newData:{...o.value}})}}}}),D={class:"page-model"},$={class:"dialog-footer"},w=u("Cancel"),I=u("Confirm");function j(e,o,s,i,c,r){const a=d("my-form"),m=d("el-button"),p=d("el-dialog");return y(),b("div",D,[l(p,{modelValue:e.dialogVisible,"onUpdate:modelValue":o[2]||(o[2]=t=>e.dialogVisible=t),title:"\u65B0\u5EFA\u7528\u6237",width:"30%",center:""},{footer:n(()=>[k("span",$,[l(m,{onClick:o[1]||(o[1]=t=>e.dialogVisible=!1)},{default:n(()=>[w]),_:1}),l(m,{type:"primary",onClick:e.handleConfirmClick},{default:n(()=>[I]),_:1},8,["onClick"])])]),default:n(()=>[l(a,v(e.modalConfig,{modelValue:e.formData,"onUpdate:modelValue":o[0]||(o[0]=t=>e.formData=t)}),null,16,["modelValue"])]),_:1},8,["modelValue"])])}var A=V(N,[["render",j]]);export{A as p};
