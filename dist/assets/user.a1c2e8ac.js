import{p as g}from"./page-search.84edc69c.js";import{P as D}from"./page-content.6ed83012.js";import{p as k}from"./page-modal.2c5cf285.js";import{f as B,_ as b,d as E,k as y,i as I,r as F,o as _,c as v,j as h}from"./index.b9085ce3.js";function R(){const e=B();return[e,()=>{var l;(l=e.value)==null||l.getpageData()},l=>{var n;(n=e.value)==null||n.getpageData(l)}]}const w=E({components:{PageSearch:g,PageContent:D,PageModal:k},name:"user",setup(){const e="\u7528\u6237\u5217\u8868",[d,p,l]=R(),n=[{prop:"name",label:"\u7528\u6237\u540D",minWidth:"100",slotname:"name"},{prop:"realname",label:"\u59D3\u540D",minWidth:"100",slotname:"realname"},{prop:"cellphone",label:"\u624B\u673A\u53F7\u7801",minWidth:"100",slotname:"cellphone"},{prop:"enable",label:"\u72B6\u6001",minWidth:"100",slotname:"status"},{prop:"createAt",label:"\u521B\u5EFA\u65F6\u95F4",minWidth:"100",slotname:"createAt"},{prop:"updateAt",label:"\u66F4\u65B0\u65F6\u95F4",minWidth:"100",slotname:"updateAt"},{label:"\u64CD\u4F5C",minWidth:"120",slotname:"handle"}],C=[{field:"id",type:"input",label:"id",placeholder:"\u8BF7\u8F93\u5165id"},{field:"name",type:"input",label:"\u7528\u6237\u540D",placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"},{field:"realname",type:"input",label:"\u771F\u5B9E\u59D3\u540D",placeholder:"\u8BF7\u8F93\u5165\u771F\u5B9E\u59D3\u540D"},{field:"cellphone",type:"input",label:"\u7535\u8BDD\u53F7\u7801",placeholder:"\u8BF7\u8F93\u5165\u7535\u8BDD\u53F7\u7801"},{field:"enable",type:"select",label:"\u7528\u6237\u72B6\u6001",placeholder:"\u8BF7\u9009\u62E9\u7528\u6237\u72B6\u6001",options:[{title:"\u542F\u7528",value:1},{title:"\u7981\u7528",value:0}]},{field:"createTime",type:"datepicker",label:"\u521B\u5EFA\u65F6\u95F4",placeholder:"\u8BF7\u9009\u62E9\u521B\u5EFA\u65F6\u95F4",otherOption:{startPlaceholder:"\u5F00\u59CB\u65F6\u95F4",endPlaceholder:"\u7ED3\u675F\u65F6\u95F4",type:"daterange"}}],t={formItems:[{field:"name",type:"input",label:"\u7528\u6237\u540D",placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"},{field:"realname",type:"input",label:"\u771F\u5B9E\u59D3\u540D",placeholder:"\u8BF7\u8F93\u5165\u771F\u5B9E\u59D3\u540D"},{field:"password",type:"input",label:"\u5BC6\u7801",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",isHidden:!1},{field:"cellphone",type:"input",label:"\u7535\u8BDD\u53F7\u7801",placeholder:"\u8BF7\u8F93\u5165\u7535\u8BDD\u53F7\u7801"},{field:"departmentId",type:"select",label:"\u9009\u62E9\u90E8\u95E8",placeholder:"\u8BF7\u9009\u62E9\u90E8\u95E8",options:[]},{field:"roleId",type:"select",label:"\u9009\u62E9\u89D2\u8272",placeholder:"\u8BF7\u9009\u62E9\u89D2\u8272",options:[]}],collLayout:{span:24}},s=y(),r=I(()=>{const a=t.formItems.find(u=>u.field=="departmentId"),i=t.formItems.find(u=>u.field=="roleId");return a.options=s.state.entireDepartment.map(u=>({title:u.name,value:u.id})),i.options=s.state.entireRole.map(u=>({title:u.name,value:u.id})),t}),c=()=>{const a=t.formItems.find(i=>i.field==="password");a.isHidden=!1},m=()=>{const a=t.formItems.find(i=>i.field==="password");a.isHidden=!0},o=B(),f=B({});return{handleResetClick:p,handleQueryClick:l,pageContentRef:d,formItems:C,propList:n,title:e,modalConfigRef:r,handleNewClick:()=>{f.value={},o.value&&(o.value.dialogVisible=!0),c&&c()},handleEditClick:a=>{f.value={...a},o.value&&(o.value.dialogVisible=!0),m&&m()},pageModalRef:o,defaultInfo:f,newCallback:c,editCallback:m}}}),A={class:"user"};function N(e,d,p,l,n,C){const t=F("page-search"),s=F("page-content"),r=F("page-modal");return _(),v("div",A,[h(t,{formItems:e.formItems,onResetBtnClick:e.handleResetClick,onQueryBtnClick:e.handleQueryClick},null,8,["formItems","onResetBtnClick","onQueryBtnClick"]),h(s,{ref:"pageContentRef",propList:e.propList,title:e.title,pageName:"users",onNewBtnClick:e.handleNewClick,onEditBtnClick:e.handleEditClick},null,8,["propList","title","onNewBtnClick","onEditBtnClick"]),h(r,{ref:"pageModalRef",modalConfig:e.modalConfigRef,pageName:"users",defaultInfo:e.defaultInfo},null,8,["modalConfig","defaultInfo"])])}var $=b(w,[["render",N],["__scopeId","data-v-6d5f2c0c"]]);export{$ as default};
